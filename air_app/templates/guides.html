{% extends "base.html" %}

{% block title %}Guides{% endblock %}
{% block description %}Universal Techniques and Concepts for using and curating context for AI{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <div class="text-center mb-8">
        <h1 class="text-4xl font-bold mb-4">Guides</h1>
        <p class="text-lg">Universal Techniques and Concepts for using and curating context for AI</p>
    </div>

    <!-- Course Promo Banner -->
    <div class="card bg-base-200 shadow-xl mb-12">
        <div class="card-body">
            <div class="flex flex-col md:flex-row items-center gap-6">
                <a href="https://maven.com/kentro/context-engineering-for-coding?promoCode=ISAAC" class="block">
                    <img src="/static/CourseCard.jpg" alt="Course Card" class="rounded-lg shadow-md max-w-sm w-full">
                </a>
                <div>
                    <h2 class="card-title text-2xl mb-4">Want to master AI-assisted coding?</h2>
                    <p class="mb-4">Join my course to learn advanced techniques and patterns that will 10x your productivity with any AI coding tool.</p>
                    <a href="https://maven.com/kentro/context-engineering-for-coding?promoCode=ISAAC" class="btn btn-primary btn-lg">
                        <strong>Enroll Now on Maven â†’</strong>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Filter Controls -->
    <div class="flex flex-wrap gap-4 mb-8">
        <div class="form-control">
            <div class="input-group">
                <input type="text" placeholder="Search..." class="input input-bordered" id="search-input" 
                       hx-get="/partials/guide-cards"
                       hx-trigger="keyup changed delay:500ms"
                       hx-target="#guide-cards"
                       name="search">
                <button class="btn btn-square">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="dropdown">
            <div tabindex="0" role="button" class="btn m-1">Category <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></div>
            <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                <li><a hx-get="/partials/guide-cards?category=all" hx-target="#guide-cards">All</a></li>
                <li><a hx-get="/partials/guide-cards?category=Context" hx-target="#guide-cards">Context</a></li>
                <li><a hx-get="/partials/guide-cards?category=Personalization" hx-target="#guide-cards">Personalization</a></li>
                <li><a hx-get="/partials/guide-cards?category=Tools" hx-target="#guide-cards">Tools</a></li>
                <li><a hx-get="/partials/guide-cards?category=Prompting" hx-target="#guide-cards">Prompting</a></li>
                <li><a hx-get="/partials/guide-cards?category=Techniques" hx-target="#guide-cards">Techniques</a></li>
            </ul>
        </div>
        
        <div class="dropdown">
            <div tabindex="0" role="button" class="btn m-1">Sort By <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></div>
            <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                <li><a hx-get="/partials/guide-cards?sort=date-desc" hx-target="#guide-cards">Newest First</a></li>
                <li><a hx-get="/partials/guide-cards?sort=date-asc" hx-target="#guide-cards">Oldest First</a></li>
                <li><a hx-get="/partials/guide-cards?sort=title-asc" hx-target="#guide-cards">Title (A-Z)</a></li>
                <li><a hx-get="/partials/guide-cards?sort=title-desc" hx-target="#guide-cards">Title (Z-A)</a></li>
            </ul>
        </div>
    </div>

    <!-- Guide Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12" id="guide-cards"
         hx-get="/partials/guide-cards" 
         hx-trigger="load"
         hx-swap="innerHTML">
        <!-- Content will be loaded via HTMX -->
        <div class="skeleton h-64 w-full"></div>
        <div class="skeleton h-64 w-full"></div>
        <div class="skeleton h-64 w-full"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<!-- No custom scripts needed - HTMX handles the filtering and sorting -->
{% endblock %}